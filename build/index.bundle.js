(()=>{let e={fetchWeather:function(e){fetch("https://api.teleport.org/api/urban_areas/slug:"+e+"/scores/").then((e=>{if(!e.ok)throw alert("No City found."),new Error("No City found.");return e.json()})).then((e=>this.displayWeather(e)))},displayWeather:function(e){const t=e.categories[0],{teleport_city_score:r}=e,{summary:o}=e;document.querySelector(".city").innerText="Total score = "+Math.round(100*r+Number.EPSILON)/100,document.querySelector(".sumary").innerText=o.replace(/(<([^>]+)>)/gi,"");const{categories:c}=e,n=[];c.forEach((({name:e,score_out_of_10:t})=>{n.push("Categories =  "+e+", score out of 10= "+Math.round(100*t+Number.EPSILON)/100)})),document.querySelector(".categorie").innerText=n.join(" \n"),document.querySelector(".weather").classList.remove("loading"),document.body.style.backgroundImage="url('https://source.unsplash.com/1600x900/?"+t.name+"')"},search:function(){this.fetchWeather(document.querySelector(".search-bar").value)}};document.querySelector(".search button").addEventListener("click",(function(){e.search()}))})();